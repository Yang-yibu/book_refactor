
## 重构，第一个示例

差劲的系统是很难修改的，因为很难找到修改点，难以了解做出的修改与现有代码如何协作实现我想要的行为。如果很难找到修改点，就很可能犯错，从而引入 Bug。

重构的时机：如果有人需要理解他的工作原理，并且觉的理解起来很费劲，就需要改进一下代码

提炼函数
- 查看代码块中那些变量会离开原来的作用域
- 那些变量被函数使用后不会被修改，可以当成参数传入
- 那些变量被修改
  - 可以直接从函数中返回
  - 可以初始化放到提炼后的函数里
- 提炼完成后，修改变量名。提升其表达能力